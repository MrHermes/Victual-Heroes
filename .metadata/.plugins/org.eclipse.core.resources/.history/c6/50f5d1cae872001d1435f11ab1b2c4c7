package vh.objectManagers;

import java.awt.Graphics;
import java.awt.image.BufferedImage;

import vh.helper.LoadSave;
import vh.object.Tower;
import vh.scene.Playing;
import static vh.helper.Constants.Towers.*;

public class TowerManager {
	
	private Playing playing;
	private BufferedImage[] towerImages;
	private Tower tower;
	
	public TowerManager(Playing playing) {
		this.playing = playing;
		
		loadTowerImages();
		initializeTowers();
	}

	private void initializeTowers() {
		tower = new Tower(2*16, 6*16, 0, WOOD);
		
	}

	private void loadTowerImages() {
		BufferedImage towerAtlas = LoadSave.getTowerAtlas();
		this.towerImages = new BufferedImage[4];
		
		for (int i = 0 ; i < 4 ; i++) {
			towerImages[i] = towerAtlas.getSubimage(48*12, 48*1 + 48*i, 48, 48);
		}
	}
	
	public void draw(Graphics g) {
		g.drawImage(towerImages[tower.getTowerType()], tower.getX(), tower.getY(), null);
	}

	public void update() {
		// TODO Auto-generated method stub
	}
}
